{"remainingRequest":"/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/src/views/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/src/views/Home.vue","mtime":1647954658695},{"path":"/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/node_modules/cache-loader/dist/cjs.js","mtime":1646670308046},{"path":"/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/node_modules/babel-loader/lib/index.js","mtime":1646670309179},{"path":"/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/node_modules/cache-loader/dist/cjs.js","mtime":1646670308046},{"path":"/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/node_modules/vue-loader-v16/dist/index.js","mtime":1646670309571}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBOYXYgZnJvbSAiLi4vY29tcG9uZW50cy9OYXYudnVlIgppbXBvcnQgSGVhZGVyIGZyb20gIi4uL2NvbXBvbmVudHMvSGVhZGVyLnZ1ZSIKaW1wb3J0IENyZWF0ZVBvc3QgZnJvbSAiLi4vY29tcG9uZW50cy9DcmVhdGVQb3N0LnZ1ZSIKaW1wb3J0IFBvc3RzIGZyb20gIi4uL2NvbXBvbmVudHMvUG9zdHMudnVlIgoKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6ICJIb21lIiwKICAgIGNvbXBvbmVudHM6IHsKICAgICAgICBOYXYsCiAgICAgICAgSGVhZGVyLAogICAgICAgIENyZWF0ZVBvc3QsCiAgICAgICAgUG9zdHMKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHBvc3RzOiBbXSwKICAgICAgICAgICAgY3JlYXRlUG9zdDogZmFsc2UsCiAgICAgICAgICAgIGlzQWRtaW46IG51bGwsCiAgICAgICAgICAgIHVzZXJJZDogbnVsbCwKICAgICAgICAgICAgc2VhcmNoOiAiIgogICAgICAgIH0KICAgIH0sCiAgICBtZXRob2RzOiB7CiAgICAgICAgdG9nZ2xlQ3JlYXRlKCkgewogICAgICAgICAgICB0aGlzLmNyZWF0ZVBvc3QgPSAhdGhpcy5jcmVhdGVQb3N0CiAgICAgICAgICAgIHRoaXMuc2VhcmNoID0gIiIKICAgICAgICB9LAogICAgICAgIGFzeW5jIGFkZFBvc3RGcm9udGVuZCgpIHsKICAgICAgICAgICAgdGhpcy5wb3N0cyA9IGF3YWl0IHRoaXMuZmV0Y2hQb3N0cygpICAgIAogICAgICAgIH0sCiAgICAgICAgZGVsZXRlUG9zdEZyb250ZW5kKGlkKSB7CiAgICAgICAgICAgIHRoaXMucG9zdHMgPSB0aGlzLnBvc3RzLmZpbHRlcigocG9zdCkgPT4gcG9zdC5pZCAhPT0gaWQpCiAgICAgICAgfSwKICAgICAgICBhc3luYyBmZXRjaFBvc3RzKCkgewogICAgICAgICAgICBjb25zdCByZXNQb3N0cyA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3Bvc3RzL2FsbCcpCiAgICAgICAgICAgIGNvbnN0IGRhdGFQb3N0cyA9IGF3YWl0IHJlc1Bvc3RzLmpzb24oKQogICAgICAgICAgICBkYXRhUG9zdHMuZm9yRWFjaChwb3N0ID0+IHsKICAgICAgICAgICAgICAgIHBvc3QuY3JlYXRlZEF0ID0gcG9zdC5jcmVhdGVkQXQuc3BsaXQoJ1QnKVswXQogICAgICAgICAgICAgICAgcG9zdC5Vc2VyLnVzZXJuYW1lID0gcG9zdC5Vc2VyLmZpcnN0bmFtZSArICIgIiArIHBvc3QuVXNlci5sYXN0bmFtZQogICAgICAgICAgICB9KQogICAgICAgICAgICBkYXRhUG9zdHMucmV2ZXJzZSgpCiAgICAgICAgICAgIHJldHVybiBkYXRhUG9zdHMKICAgICAgICB9CiAgICB9LAogICAgYXN5bmMgY3JlYXRlZCgpIHsKICAgICAgICB0aGlzLnBvc3RzID0gYXdhaXQgdGhpcy5mZXRjaFBvc3RzKCkKICAgICAgICB0aGlzLmlzQWRtaW4gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdpc0FkbWluJykpCiAgICAgICAgdGhpcy51c2VySWQgPSBOdW1iZXIobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpKQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgZmlsdGVyUG9zdHM6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy5wb3N0cy5maWx0ZXIoKHBvc3QpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiBwb3N0LlVzZXIudXNlcm5hbWUudG9Mb3dlckNhc2UoKS5tYXRjaCh0aGlzLnNlYXJjaC50b0xvd2VyQ2FzZSgpKQogICAgICAgICAgICB9KQogICAgICAgIH0KICAgIH0gICAKfQo="},{"version":3,"sources":["/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/src/views/Home.vue"],"names":[],"mappings":"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AC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC;QAC3D,CAAC;QACD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACf,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAClE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gBACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC5C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACtE,CAAC;YACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAClB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnB;IACJ,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACzD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACvD,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACN,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACpB,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;gBAC/B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC3E,CAAC;QACL;IACJ;AACJ","file":"/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/src/views/Home.vue","sourceRoot":"","sourcesContent":["<template>\n    <Nav redirection=\"/home\" :logged=\"true\" />\n    <Header :home=\"true\" header=\"Accueil\" />\n    <button v-if=\"createPost\" @click=\"toggleCreate\" class=\"btn\">Retour au posts</button>\n    <button v-else @click=\"toggleCreate\" class=\"btn\">Décorer le mur !</button>    \n    <CreatePost v-show=\"createPost\" @toggle-Create=\"toggleCreate\" @add-Post=\"addPostFrontend\" />\n    <div v-if=\"!createPost\" id=\"query\">\n        <span><i class=\"fas fa-search\"></i></span>\n        <input type=\"text\" placeholder=\"Trouver un post\" v-model=\"search\">\n    </div> \n    <Posts :posts=\"filterPosts\" @delete-Post=\"deletePostFrontend\" :isAdmin=\"isAdmin\" :userId=\"userId\"/>\n\n</template>\n\n<script>\nimport Nav from \"../components/Nav.vue\"\nimport Header from \"../components/Header.vue\"\nimport CreatePost from \"../components/CreatePost.vue\"\nimport Posts from \"../components/Posts.vue\"\n\n\nexport default {\n    name: \"Home\",\n    components: {\n        Nav,\n        Header,\n        CreatePost,\n        Posts\n    },\n    data() {\n        return {\n            posts: [],\n            createPost: false,\n            isAdmin: null,\n            userId: null,\n            search: \"\"\n        }\n    },\n    methods: {\n        toggleCreate() {\n            this.createPost = !this.createPost\n            this.search = \"\"\n        },\n        async addPostFrontend() {\n            this.posts = await this.fetchPosts()    \n        },\n        deletePostFrontend(id) {\n            this.posts = this.posts.filter((post) => post.id !== id)\n        },\n        async fetchPosts() {\n            const resPosts = await fetch('http://localhost:3000/api/posts/all')\n            const dataPosts = await resPosts.json()\n            dataPosts.forEach(post => {\n                post.createdAt = post.createdAt.split('T')[0]\n                post.User.username = post.User.firstname + \" \" + post.User.lastname\n            })\n            dataPosts.reverse()\n            return dataPosts\n        }\n    },\n    async created() {\n        this.posts = await this.fetchPosts()\n        this.isAdmin = JSON.parse(localStorage.getItem('isAdmin'))\n        this.userId = Number(localStorage.getItem('userId'))\n    },\n    computed: {\n        filterPosts: function() {\n            return this.posts.filter((post) => {\n                return post.User.username.toLowerCase().match(this.search.toLowerCase())\n            })\n        }\n    }   \n}\n</script>\n\n<style scoped>\n.btn {\n    display: inline-block;\n    color: white;\n    background: #1c68e6;\n    border: none;\n    padding: 10px 48px;\n    border-radius: 5px;\n    text-decoration: none;\n}\n.btn:hover {\n    box-shadow: 2px 2px 8px 5px #1c69e665;\n}\n.btn:active {\n    transform: scale(0.98);\n}\n.btn-block {\n    display: block;\n    width: 100%;\n}\n#query {\n    margin: 1rem 0 0 0;\n}\ninput {\n    padding: 6px;\n    border: 1px solid #1c68e6;\n    border-radius: 0 4px 4px 0;\n    border-left-style: none;\n}\ninput:focus {\n    outline: none;\n}\nspan {\n    padding: 6px;\n    border: 1px solid #1c68e6;\n    border-right-style: none;\n    border-radius: 4px 0 0 4px;\n}\n@media screen and (max-width: 992px) {\n    #query {\n        margin-left: 2rem;\n    }\n    .btn {\n        margin-left: 2rem;\n    }\n}\n</style>"]}]}