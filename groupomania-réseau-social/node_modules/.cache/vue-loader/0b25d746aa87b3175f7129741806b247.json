{"remainingRequest":"/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/src/components/Team.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/src/components/Team.vue","mtime":1646906126736},{"path":"/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/node_modules/cache-loader/dist/cjs.js","mtime":1646670308046},{"path":"/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/node_modules/babel-loader/lib/index.js","mtime":1646670309179},{"path":"/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/node_modules/cache-loader/dist/cjs.js","mtime":1646670308046},{"path":"/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/node_modules/vue-loader-v16/dist/index.js","mtime":1646670309571}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBOYXYgZnJvbSAiLi4vY29tcG9uZW50cy9OYXYudnVlIgppbXBvcnQgSGVhZGVyIGZyb20gIi4uL2NvbXBvbmVudHMvSGVhZGVyLnZ1ZSIKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZTogJ1RlYW0nLAogICAgY29tcG9uZW50czogewogICAgICAgIE5hdiwKICAgICAgICBIZWFkZXIKICAgIH0sCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHVzZXJzOiBbXSwKICAgICAgICAgICAgc2hvd1Bvc3RzOiBudWxsLAogICAgICAgICAgICBzZWFyY2g6ICIiCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAvKiBvbiByw6ljdXDDqHJlIGxlcyB1c2VycyAqLwogICAgICAgIGFzeW5jIGZldGNoVXNlcnMoKSB7CiAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL2FsbCcpCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXMuanNvbigpCiAgICAgICAgICAgIGRhdGEuZm9yRWFjaCh1c2VyID0+IHsKICAgICAgICAgICAgICAgIHVzZXIudXNlcm5hbWUgPSB1c2VyLmZpcnN0bmFtZSArICIgIiArIHVzZXIubGFzdG5hbWUKICAgICAgICAgICAgfSkKICAgICAgICAgICAgcmV0dXJuIGRhdGEKICAgICAgICB9LAogICAgICAgIC8qIGxlIGNvbXB0ZXVyIGRlcyBsaWtlcyByZcOndXMgcGFyIGwndXNlciAqLwogICAgICAgIGdldExpa2VzKHVzZXJQb3N0cykgewogICAgICAgICAgICBsZXQgdG90YWxMaWtlcyA9IDAKICAgICAgICAgICAgdXNlclBvc3RzLmZvckVhY2gocG9zdCA9PiB7CiAgICAgICAgICAgICAgICB0b3RhbExpa2VzICs9IHBvc3QuTGlrZXMubGVuZ3RoCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIHJldHVybiB0b3RhbExpa2VzCiAgICAgICAgfSwKICAgICAgICAvKiBsYSBkYXRlIGRlIHNvbiBwb3N0IGxlIHBsdXMgcsOpY2VudCAqLwogICAgICAgIGdldERhdGUodXNlclBvc3RzKSB7CiAgICAgICAgICAgIGlmICh1c2VyUG9zdHMgPCAxKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gImNlIHVzZXIgbidhIHBhcyBlbmNvcmUgcG9zdMOpIgogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHVzZXJQb3N0c1t1c2VyUG9zdHMubGVuZ3RoIC0xXS5jcmVhdGVkQXQuc3BsaXQoJ1QnKVswXSAgIAogICAgICAgICAgICB9CiAgICAgICAgICAgIAogICAgICAgIH0KICAgIH0sCiAgICBhc3luYyBjcmVhdGVkKCkgewogICAgICAgIHRoaXMudXNlcnMgPSBhd2FpdCB0aGlzLmZldGNoVXNlcnMoKQogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgZmlsdGVyVXNlcnM6IGZ1bmN0aW9uKCkgewogICAgICAgICAgICByZXR1cm4gdGhpcy51c2Vycy5maWx0ZXIoKHVzZXIpID0+IHsKICAgICAgICAgICAgICAgIHJldHVybiB1c2VyLnVzZXJuYW1lLnRvTG93ZXJDYXNlKCkubWF0Y2godGhpcy5zZWFyY2gudG9Mb3dlckNhc2UoKSkKICAgICAgICAgICAgfSkKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/src/components/Team.vue"],"names":[],"mappings":"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","file":"/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/src/components/Team.vue","sourceRoot":"","sourcesContent":["<template>\n    <Nav redirection=\"/home\" :logged=\"true\" />  \n    <Header :home=\"false\" header=\"Membres\" />\n    <div id=\"usersContainer\">\n        <div id=\"query\">\n            <span><i class=\"fas fa-search\"></i></span>\n            <input type=\"text\" placeholder=\"exemple: John Doe\" v-model=\"search\">\n        </div>           \n        <div :key=\"user.id\" v-for=\"user in filterUsers\" class=\"user\">\n            <div id=\"header\">\n                <div class=\"profileContainer\">\n                    <img :src=\"'http://localhost:3000/images/' + user.profile\" :alt=\"user.profile\" class=\"profile\">    \n                </div>\n                <h4>{{user.firstname}} {{user.lastname}}</h4>   \n            </div>             \n            <div>                \n                <p>Nombre de post(s): #{{user.Posts.length}}</p>\n                <p>Nombres total de likes reçus: #{{getLikes(user.Posts)}}</p>\n                <p>Dernier post le: {{getDate(user.Posts)}}</p>                    \n            </div>           \n        </div>            \n    </div>    \n</template>\n\n<script>\nimport Nav from \"../components/Nav.vue\"\nimport Header from \"../components/Header.vue\"\nexport default {\n    name: 'Team',\n    components: {\n        Nav,\n        Header\n    },\n    data() {\n        return {\n            users: [],\n            showPosts: null,\n            search: \"\"\n        }\n    },\n    methods: {\n        /* on récupère les users */\n        async fetchUsers() {\n            const res = await fetch('http://localhost:3000/api/users/all')\n            const data = await res.json()\n            data.forEach(user => {\n                user.username = user.firstname + \" \" + user.lastname\n            })\n            return data\n        },\n        /* le compteur des likes reçus par l'user */\n        getLikes(userPosts) {\n            let totalLikes = 0\n            userPosts.forEach(post => {\n                totalLikes += post.Likes.length\n            })\n            return totalLikes\n        },\n        /* la date de son post le plus récent */\n        getDate(userPosts) {\n            if (userPosts < 1) {\n                return \"ce user n'a pas encore posté\"\n            } else {\n                return userPosts[userPosts.length -1].createdAt.split('T')[0]   \n            }\n            \n        }\n    },\n    async created() {\n        this.users = await this.fetchUsers()\n    },\n    computed: {\n        filterUsers: function() {\n            return this.users.filter((user) => {\n                return user.username.toLowerCase().match(this.search.toLowerCase())\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n#usersContainer {\n    max-width: 600px;\n    margin: auto;\n    border-radius: 4px;\n}\n.user {\n    box-shadow: 2px 2px 8px 5px rgb(0 0 0 / 10%);\n    margin: 1rem;\n    padding: 1rem;\n    border-radius: 4px;\n}\n#header {\n    display: flex;\n    align-items: center;\n    margin-bottom: 1rem;;\n}\n.profileContainer {\n    width: 96px;\n    height: 96px;\n    min-width: 64px;\n    min-height: 64px;    \n    border-radius: 50%;\n    overflow: hidden;\n    margin-right: 1rem;\n}\n.profile {\n    height: 100%;\n    width: 100%;\n    object-fit: cover;\n}\np {\n    margin: 0.5rem;\n}\n#query {\n    text-align: center;\n}\ninput {\n    padding: 6px;\n    border: 1px solid #1c68e6;\n    border-radius: 0 4px 4px 0;\n    border-left-style: none;\n}\ninput:focus {\n    outline: none;\n}\nspan {\n    padding: 6px;\n    border: 1px solid #1c68e6;\n    border-right-style: none;\n    border-radius: 4px 0 0 4px;\n}\n@media screen and (max-width: 992px) {\n    #usersContainer {\n        max-width: 90%;\n    }\n}\n</style>"]}]}