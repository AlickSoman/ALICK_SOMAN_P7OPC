{"remainingRequest":"/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/src/views/Team.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/src/views/Team.vue","mtime":1647622392540},{"path":"/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/node_modules/cache-loader/dist/cjs.js","mtime":1646670308046},{"path":"/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/node_modules/babel-loader/lib/index.js","mtime":1646670309179},{"path":"/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/node_modules/cache-loader/dist/cjs.js","mtime":1646670308046},{"path":"/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/node_modules/vue-loader-v16/dist/index.js","mtime":1646670309571}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hZG1pbi9EZXNrdG9wL1A3X0FMSUNLX1NPTUFOL2dyb3Vwb21hbmlhLXJceEU5c2VhdS1zb2NpYWwvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcubWF0Y2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIjsKaW1wb3J0IE5hdiBmcm9tICIuLi9jb21wb25lbnRzL05hdi52dWUiOwppbXBvcnQgSGVhZGVyIGZyb20gIi4uL2NvbXBvbmVudHMvSGVhZGVyLnZ1ZSI7CmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdUZWFtJywKICBjb21wb25lbnRzOiB7CiAgICBOYXY6IE5hdiwKICAgIEhlYWRlcjogSGVhZGVyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcnM6IFtdLAogICAgICBzaG93UG9zdHM6IG51bGwsCiAgICAgIHNlYXJjaDogIiIKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKiBvbiByw6ljdXDDqHJlIGxlcyB1c2VycyAqLwogICAgZmV0Y2hVc2VyczogZnVuY3Rpb24gZmV0Y2hVc2VycygpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgcmVzLCBkYXRhOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpL3VzZXJzL2FsbCcpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgZGF0YSA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKHVzZXIpIHsKICAgICAgICAgICAgICAgICAgdXNlci51c2VybmFtZSA9IHVzZXIuZmlyc3RuYW1lICsgIiAiICsgdXNlci5sYXN0bmFtZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LmFicnVwdCgicmV0dXJuIiwgZGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCgogICAgLyogbGUgY29tcHRldXIgZGVzIGxpa2VzIHJlw6d1cyBwYXIgbCd1c2VyICovCiAgICBnZXRMaWtlczogZnVuY3Rpb24gZ2V0TGlrZXModXNlclBvc3RzKSB7CiAgICAgIHZhciB0b3RhbExpa2VzID0gMDsKICAgICAgdXNlclBvc3RzLmZvckVhY2goZnVuY3Rpb24gKHBvc3QpIHsKICAgICAgICB0b3RhbExpa2VzICs9IHBvc3QuTGlrZXMubGVuZ3RoOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRvdGFsTGlrZXM7CiAgICB9LAoKICAgIC8qIGxhIGRhdGUgZFUgcG9zdCBsZSBwbHVzIHLDqWNlbnQgKi8KICAgIGdldERhdGU6IGZ1bmN0aW9uIGdldERhdGUodXNlclBvc3RzKSB7CiAgICAgIGlmICh1c2VyUG9zdHMgPCAxKSB7CiAgICAgICAgcmV0dXJuICJQYXMgZW5jb3JlIHBvc3TDqSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHVzZXJQb3N0c1t1c2VyUG9zdHMubGVuZ3RoIC0gMV0uY3JlYXRlZEF0LnNwbGl0KCdUJylbMF07CiAgICAgIH0KICAgIH0KICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuZmV0Y2hVc2VycygpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIF90aGlzLnVzZXJzID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBmaWx0ZXJVc2VyczogZnVuY3Rpb24gZmlsdGVyVXNlcnMoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIHRoaXMudXNlcnMuZmlsdGVyKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgcmV0dXJuIHVzZXIudXNlcm5hbWUudG9Mb3dlckNhc2UoKS5tYXRjaChfdGhpczIuc2VhcmNoLnRvTG93ZXJDYXNlKCkpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/admin/Desktop/P7_ALICK_SOMAN/groupomania-réseau-social/src/views/Team.vue"],"names":[],"mappings":";;;;;;;;;AA0BA,OAAO,GAAP,MAAgB,uBAAhB;AACA,OAAO,MAAP,MAAmB,0BAAnB;AACA,OAAO,MAAP,MAAmB,QAAnB;AACA,eAAe;AACX,EAAA,IAAI,EAAE,MADK;AAEX,EAAA,UAAU,EAAE;AACR,IAAA,GAAG,EAAH,GADQ;AAER,IAAA,MAAK,EAAL;AAFQ,GAFD;AAMX,EAAA,IANW,kBAMJ;AACH,WAAO;AACH,MAAA,KAAK,EAAE,EADJ;AAEH,MAAA,SAAS,EAAE,IAFR;AAGH,MAAA,MAAM,EAAE;AAHL,KAAP;AAKH,GAZU;AAaX,EAAA,OAAO,EAAE;AACL;AACM,IAAA,UAFD,wBAEc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACG,KAAK,CAAC,qCAAD,CADR;;AAAA;AACT,gBAAA,GADS;AAAA;AAAA,uBAEI,GAAG,CAAC,IAAJ,EAFJ;;AAAA;AAET,gBAAA,IAFS;AAGf,gBAAA,IAAI,CAAC,OAAL,CAAa,UAAA,IAAG,EAAK;AACjB,kBAAA,IAAI,CAAC,QAAL,GAAgB,IAAI,CAAC,SAAL,GAAiB,GAAjB,GAAuB,IAAI,CAAC,QAA5C;AACH,iBAFD;AAHe,iDAMR,IANQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOlB,KATI;;AAUL;AACA,IAAA,QAXK,oBAWI,SAXJ,EAWe;AAChB,UAAI,UAAS,GAAI,CAAjB;AACA,MAAA,SAAS,CAAC,OAAV,CAAkB,UAAA,IAAG,EAAK;AACtB,QAAA,UAAS,IAAK,IAAI,CAAC,KAAL,CAAW,MAAzB;AACH,OAFD;AAGA,aAAO,UAAP;AACH,KAjBI;;AAkBL;AAEA,IAAA,OApBK,mBAoBG,SApBH,EAoBc;AACf,UAAI,SAAQ,GAAI,CAAhB,EAAmB;AACf,eAAO,kBAAP;AACJ,OAFA,MAEO;AACH,eAAO,SAAS,CAAC,SAAS,CAAC,MAAV,GAAkB,CAAnB,CAAT,CAA+B,SAA/B,CAAyC,KAAzC,CAA+C,GAA/C,EAAoD,CAApD,CAAP;AACJ;AAGJ;AA5BK,GAbE;AA2CL,EAAA,OA3CK,qBA2CK;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACO,KAAI,CAAC,UAAL,EADP;;AAAA;AACZ,cAAA,KAAI,CAAC,KADO;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEf,GA7CU;AA8CX,EAAA,QAAQ,EAAE;AACN,IAAA,WAAW,EAAE,uBAAW;AAAA;;AACpB,aAAO,KAAK,KAAL,CAAW,MAAX,CAAkB,UAAC,IAAD,EAAU;AAC/B,eAAO,IAAI,CAAC,QAAL,CAAc,WAAd,GAA4B,KAA5B,CAAkC,MAAI,CAAC,MAAL,CAAY,WAAZ,EAAlC,CAAP;AACH,OAFM,CAAP;AAGJ;AALM;AA9CC,CAAf","sourcesContent":["<template>\n    <Nav redirection=\"/home\" :logged=\"true\" />  \n    <Header :home=\"false\" header=\"Membres\" />\n            <div id=\"query\">\n            <span><i class=\"fas fa-search\"></i></span>\n            <input type=\"text\" placeholder=\"Recherche\" v-model=\"search\">\n        </div>  \n    <div id=\"usersContainer\" class=\"userCt\">\n         \n        <div :key=\"user.id\" v-for=\"user in filterUsers\" class=\"user\">\n            <div id=\"header\">\n                <div class=\"profileContainer\">\n                    <img :src=\"'http://localhost:3000/images/' + user.profile\" :alt=\"user.profile\" class=\"profile\">    \n                </div>\n                <h4>{{user.firstname}} {{user.lastname}}</h4>   \n            </div>             \n            <div>                \n                <p>Nombre de post(s) : {{user.Posts.length}}</p>\n                <p>Likes reçus: {{getLikes(user.Posts)}}</p>\n                <p>Dernier post le :<br> {{getDate(user.Posts)}}  </p>                    \n            </div>           \n        </div>            \n    </div> \n</template>\n\n<script>\nimport Nav from \"../components/Nav.vue\"\nimport Header from \"../components/Header.vue\"\nimport moment from 'moment'\nexport default {\n    name: 'Team',\n    components: {\n        Nav,\n        Header\n    },\n    data() {\n        return {\n            users: [],\n            showPosts: null,\n            search: \"\"\n        }\n    },\n    methods: {\n        /* on récupère les users */\n        async fetchUsers() {\n            const res = await fetch('http://localhost:3000/api/users/all')\n            const data = await res.json()\n            data.forEach(user => {\n                user.username = user.firstname + \" \" + user.lastname\n            })\n            return data\n        },\n        /* le compteur des likes reçus par l'user */\n        getLikes(userPosts) {\n            let totalLikes = 0\n            userPosts.forEach(post => {\n                totalLikes += post.Likes.length\n            })\n            return totalLikes\n        },\n        /* la date dU post le plus récent */\n        \n        getDate(userPosts) {\n            if (userPosts < 1) {\n                return \"Pas encore posté\"\n            } else {\n                return userPosts[userPosts.length -1].createdAt.split('T')[0]   \n            }\n            \n            \n        }\n    },\n    async created() {\n        this.users = await this.fetchUsers()\n    },\n    computed: {\n        filterUsers: function() {\n            return this.users.filter((user) => {\n                return user.username.toLowerCase().match(this.search.toLowerCase())\n            })\n        }\n    }\n}\n</script>\n\n<style scoped>\n#usersContainer {\n    display: flex;\n    /* flex: 3; */\n    flex-wrap: wrap;\n    flex-direction: row;\n    justify-content: space-around;\n    border-radius: 4px;\n}\n.user {\n    box-shadow: 2px 2px 9px 5px rgb(0 0 0 / 10%);\n    padding: 1rem;\n    width: 300px;\n    /* height: auto; */\n    margin: 0.5%;\n    margin-top:0.7%;\n    border-radius: 10px;\n     \n}\n#header {\n    display: flex;\n    align-items: center;\n    margin-bottom: 1rem;;\n}\n.profileContainer {\n    width: 96px;\n    height: 96px;\n    min-width: 64px;\n    min-height: 64px;    \n    border-radius: 50%;\n    overflow: hidden;\n    margin-right: 1rem;\n}\n.profile {\n    /* height: 100%; */\n    width: 100%;\n    object-fit: cover;\n}\nh4{\n    color:#4075C5;\n    font-weight: 800;\n    text-transform: uppercase;\n\n}\ni{\n    color: #4075C5;\n}\np {\n    margin: 0.3rem;\n    text-align: center;\n}\n#query {\n    text-align: center;\n    margin-bottom: 1.4% !important;\n    background: #4075C5;\n    width: 100%;\n}\ninput {\n    border: 1px solid #4075C5;\n    border-radius: 0 10px 10px 0;\n    border-left-style: none;\n    padding: 7px;\n}\n\ninput:focus {\n    outline: none;\n}\nspan {\n    border: 1px solid #4075C5;\n    background: #ffffff;\n    border-right-style: none;\n    border-radius: 10px 0 0 10px;\n    padding: 7px;\n}\n@media screen and (max-width: 992px) {\n    #usersContainer {\n        max-width: 100%;\n    }\n}\n\n</style>"],"sourceRoot":""}]}