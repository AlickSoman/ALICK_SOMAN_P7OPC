{"remainingRequest":"/Users/admin/Desktop/P7 Test 2/vue-frontend/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/P7 Test 2/vue-frontend/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/admin/Desktop/P7 Test 2/vue-frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Desktop/P7 Test 2/vue-frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/admin/Desktop/P7 Test 2/vue-frontend/src/components/Posts.vue?vue&type=template&id=67344653&scoped=true","dependencies":[{"path":"/Users/admin/Desktop/P7 Test 2/vue-frontend/src/components/Posts.vue","mtime":1631120511000},{"path":"/Users/admin/Desktop/P7 Test 2/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1646670308046},{"path":"/Users/admin/Desktop/P7 Test 2/vue-frontend/node_modules/babel-loader/lib/index.js","mtime":1646670309179},{"path":"/Users/admin/Desktop/P7 Test 2/vue-frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1646670310149},{"path":"/Users/admin/Desktop/P7 Test 2/vue-frontend/node_modules/cache-loader/dist/cjs.js","mtime":1646670308046},{"path":"/Users/admin/Desktop/P7 Test 2/vue-frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1646670309571}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVWTm9kZSBhcyBfY3JlYXRlVk5vZGUsIHRvRGlzcGxheVN0cmluZyBhcyBfdG9EaXNwbGF5U3RyaW5nLCBjcmVhdGVUZXh0Vk5vZGUgYXMgX2NyZWF0ZVRleHRWTm9kZSwgY3JlYXRlQ29tbWVudFZOb2RlIGFzIF9jcmVhdGVDb21tZW50Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhTY29wZUlkIGFzIF93aXRoU2NvcGVJZCwgcHVzaFNjb3BlSWQgYXMgX3B1c2hTY29wZUlkLCBwb3BTY29wZUlkIGFzIF9wb3BTY29wZUlkIH0gZnJvbSAidnVlIjsKCnZhciBfd2l0aElkID0gLyojX19QVVJFX18qL193aXRoU2NvcGVJZCgiZGF0YS12LTY3MzQ0NjUzIik7CgpfcHVzaFNjb3BlSWQoImRhdGEtdi02NzM0NDY1MyIpOwoKdmFyIF9ob2lzdGVkXzEgPSB7CiAga2V5OiAwLAogIGlkOiAicG9zdHNDb250YWluZXIiCn07CnZhciBfaG9pc3RlZF8yID0gewogIGNsYXNzOiAiaGVhZGVyIgp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICBjbGFzczogInByb2ZpbGVDb250YWluZXIiCn07CnZhciBfaG9pc3RlZF80ID0gewogIGNsYXNzOiAiZGVzY3JpcHRpb24iCn07CnZhciBfaG9pc3RlZF81ID0gewogIGtleTogMCwKICBjbGFzczogIm9wdGlvbnNCdG4iCn07Cgp2YXIgX2hvaXN0ZWRfNiA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImkiLCB7CiAgY2xhc3M6ICJmYXIgZmEtZWRpdCBtb2RpZnkiCn0sIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF83ID0gLyojX19QVVJFX18qL19jcmVhdGVUZXh0Vk5vZGUoIm1vZGlmaWVyIik7Cgp2YXIgX2hvaXN0ZWRfOCA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVk5vZGUoImkiLCB7CiAgY2xhc3M6ICJmYXIgZmEtdHJhc2gtYWx0IGRlbGV0ZSIKfSwgbnVsbCwgLTEKLyogSE9JU1RFRCAqLwopOwoKdmFyIF9ob2lzdGVkXzkgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgic3VwcHJpbWVyIik7Cgp2YXIgX2hvaXN0ZWRfMTAgPSB7CiAgY2xhc3M6ICJ0ZXh0Igp9Owp2YXIgX2hvaXN0ZWRfMTEgPSB7CiAga2V5OiAwLAogIGNsYXNzOiAiZmlsZUNvbnRhaW5lciIKfTsKdmFyIF9ob2lzdGVkXzEyID0gewogIGNsYXNzOiAiaW50ZXJhY3Rpb24iCn07Cgp2YXIgX2hvaXN0ZWRfMTMgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVRleHRWTm9kZSgiIHwgIik7Cgp2YXIgX2hvaXN0ZWRfMTQgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJpIiwgewogIGNsYXNzOiAiZmFyIGZhLWNvbW1lbnQiCn0sIG51bGwsIC0xCi8qIEhPSVNURUQgKi8KKTsKCnZhciBfaG9pc3RlZF8xNSA9IC8qI19fUFVSRV9fKi9fY3JlYXRlVGV4dFZOb2RlKCJDb21tZW50YWlyZXMiKTsKCnZhciBfaG9pc3RlZF8xNiA9IHsKICBrZXk6IDEsCiAgaWQ6ICJub1Bvc3QiCn07Cgp2YXIgX2hvaXN0ZWRfMTcgPSAvKiNfX1BVUkVfXyovX2NyZWF0ZVZOb2RlKCJwIiwgbnVsbCwgIlwiTm91cyBuJ2F2b25zIHBhcyB0cm91dsOpIGRlIHB1YmxpY2F0aW9ucyFcIiIsIC0xCi8qIEhPSVNURUQgKi8KKTsKCl9wb3BTY29wZUlkKCk7CgpleHBvcnQgdmFyIHJlbmRlciA9IC8qI19fUFVSRV9fKi9fd2l0aElkKGZ1bmN0aW9uIChfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9MaWtlcyA9IF9yZXNvbHZlQ29tcG9uZW50KCJMaWtlcyIpOwoKICB2YXIgX2NvbXBvbmVudF9Db21tZW50cyA9IF9yZXNvbHZlQ29tcG9uZW50KCJDb21tZW50cyIpOwoKICByZXR1cm4gJHByb3BzLnBvc3RzLmxlbmd0aCA+IDAgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImRpdiIsIF9ob2lzdGVkXzEsIFsoX29wZW5CbG9jayh0cnVlKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgX3JlbmRlckxpc3QoJHByb3BzLnBvc3RzLCBmdW5jdGlvbiAocG9zdCkgewogICAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCB7CiAgICAgIGtleTogcG9zdC5pZCwKICAgICAgY2xhc3M6ICJwb3N0IgogICAgfSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMywgW19jcmVhdGVWTm9kZSgiaW1nIiwgewogICAgICBzcmM6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvaW1hZ2VzLycgKyBwb3N0LlVzZXIucHJvZmlsZSwKICAgICAgYWx0OiBwb3N0LlVzZXIucHJvZmlsZSwKICAgICAgY2xhc3M6ICJwcm9maWxlIgogICAgfSwgbnVsbCwgOAogICAgLyogUFJPUFMgKi8KICAgICwgWyJzcmMiLCAiYWx0Il0pXSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfNCwgW19jcmVhdGVWTm9kZSgiZGl2IiwgbnVsbCwgW19jcmVhdGVWTm9kZSgiaDQiLCBudWxsLCBfdG9EaXNwbGF5U3RyaW5nKHBvc3QuVXNlci5maXJzdG5hbWUpICsgIiAiICsgX3RvRGlzcGxheVN0cmluZyhwb3N0LlVzZXIubGFzdG5hbWUpLCAxCiAgICAvKiBURVhUICovCiAgICApLCBfY3JlYXRlVk5vZGUoInAiLCBudWxsLCAicG9zdMOpIGxlICIgKyBfdG9EaXNwbGF5U3RyaW5nKHBvc3QuY3JlYXRlZEF0KSwgMQogICAgLyogVEVYVCAqLwogICAgKV0pLCAkb3B0aW9ucy5hdXRoKHBvc3QudXNlcklkKSA/IChfb3BlbkJsb2NrKCksIF9jcmVhdGVCbG9jaygiZGl2IiwgX2hvaXN0ZWRfNSwgW19jcmVhdGVWTm9kZSgiYnV0dG9uIiwgewogICAgICBvbkNsaWNrOiBmdW5jdGlvbiBvbkNsaWNrKCRldmVudCkgewogICAgICAgIHJldHVybiAkb3B0aW9ucy5tb2RpZnlQb3N0KHBvc3QuaWQpOwogICAgICB9CiAgICB9LCBbX2hvaXN0ZWRfNiwgX2hvaXN0ZWRfN10sIDgKICAgIC8qIFBST1BTICovCiAgICAsIFsib25DbGljayJdKSwgX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuICRvcHRpb25zLmRlbGV0ZVBvc3QocG9zdC5pZCk7CiAgICAgIH0KICAgIH0sIFtfaG9pc3RlZF84LCBfaG9pc3RlZF85XSwgOAogICAgLyogUFJPUFMgKi8KICAgICwgWyJvbkNsaWNrIl0pXSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpXSldKSwgX2NyZWF0ZVZOb2RlKCJwIiwgX2hvaXN0ZWRfMTAsIF90b0Rpc3BsYXlTdHJpbmcocG9zdC50ZXh0KSwgMQogICAgLyogVEVYVCAqLwogICAgKSwgcG9zdC5maWxlID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xMSwgW19jcmVhdGVWTm9kZSgiaW1nIiwgewogICAgICBzcmM6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvaW1hZ2VzLycgKyBwb3N0LmZpbGUsCiAgICAgIGFsdDogcG9zdC5maWxlLAogICAgICBjbGFzczogImZpbGUiCiAgICB9LCBudWxsLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBbInNyYyIsICJhbHQiXSldKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSksIF9jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMTIsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9MaWtlcywgewogICAgICBwb3N0SWQ6IHBvc3QuaWQsCiAgICAgIHVzZXJJZDogJHByb3BzLnVzZXJJZAogICAgfSwgbnVsbCwgOAogICAgLyogUFJPUFMgKi8KICAgICwgWyJwb3N0SWQiLCAidXNlcklkIl0pLCBfaG9pc3RlZF8xMywgX2NyZWF0ZVZOb2RlKCJidXR0b24iLCB7CiAgICAgIG9uQ2xpY2s6IGZ1bmN0aW9uIG9uQ2xpY2soJGV2ZW50KSB7CiAgICAgICAgcmV0dXJuICRvcHRpb25zLnRvZ2dsZUNvbW1lbnRzKHBvc3QuaWQpOwogICAgICB9LAogICAgICBjbGFzczogImJ0biBjb21tZW50cyIKICAgIH0sIFtfaG9pc3RlZF8xNCwgX2hvaXN0ZWRfMTVdLCA4CiAgICAvKiBQUk9QUyAqLwogICAgLCBbIm9uQ2xpY2siXSldKSwgJGRhdGEuc2hvd0NvbW1lbnRzID09IHBvc3QuaWQgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9Db21tZW50cywgewogICAgICBrZXk6IDEsCiAgICAgIGNvbW1lbnRzOiAkZGF0YS5jb21tZW50cywKICAgICAgaXNBZG1pbjogJHByb3BzLmlzQWRtaW4sCiAgICAgIHVzZXJJZDogJHByb3BzLnVzZXJJZCwKICAgICAgcG9zdElkOiBwb3N0LmlkLAogICAgICBvbkNyZWF0ZWQ6ICRvcHRpb25zLmFkZENvbW1lbnQsCiAgICAgIG9uRGVsZXRlZDogJG9wdGlvbnMuZGVsZXRlQ29tbWVudCwKICAgICAgb25Nb2RpZmllZDogJG9wdGlvbnMubW9kaWZ5Q29tbWVudAogICAgfSwgbnVsbCwgOAogICAgLyogUFJPUFMgKi8KICAgICwgWyJjb21tZW50cyIsICJpc0FkbWluIiwgInVzZXJJZCIsICJwb3N0SWQiLCAib25DcmVhdGVkIiwgIm9uRGVsZXRlZCIsICJvbk1vZGlmaWVkIl0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSkpIDogKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xNiwgW19ob2lzdGVkXzE3XSkpOwp9KTs="},{"version":3,"sources":["/Users/admin/Desktop/P7 Test 2/vue-frontend/src/components/Posts.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div v-if=\"posts.length > 0\" id=\"postsContainer\">\n        <div :key=\"post.id\" v-for=\"post in posts\" class=\"post\">\n            <div class=\"header\">\n                <div class=\"profileContainer\">\n                    <img :src=\"'http://localhost:3000/images/' + post.User.profile\" :alt=\"post.User.profile\" class=\"profile\">    \n                </div>\n                <div class=\"description\">\n                    <div>\n                        <h4>{{ post.User.firstname }} {{ post.User.lastname }}</h4>\n                        <p>posté le {{ post.createdAt }}</p>\n                    </div>                 \n                    <div v-if=\"auth(post.userId)\" class=\"optionsBtn\">\n                        <button @click=\"modifyPost(post.id)\"><i class=\"far fa-edit modify\"></i>modifier</button>\n                        <button @click=\"deletePost(post.id)\"><i class=\"far fa-trash-alt delete\"></i>supprimer</button>    \n                    </div>\n                </div>                               \n            </div>\n            <p class=\"text\">{{ post.text }}</p>\n            <div v-if=\"post.file\" class=\"fileContainer\">          \n                <img :src=\"'http://localhost:3000/images/' + post.file\" :alt=\"post.file\" class=\"file\">\n            </div>\n            <div class=\"interaction\">\n                <Likes :postId=\"post.id\" :userId=\"userId\" />\n                |\n                <button @click=\"toggleComments(post.id)\" class=\"btn comments\"><i class=\"far fa-comment\"></i>Commentaires</button>\n            </div>\n            <Comments v-if=\"showComments == post.id\" :comments=\"comments\" :isAdmin=\"isAdmin\" :userId=\"userId\" :postId=\"post.id\" \n                @created=\"addComment\" @deleted=\"deleteComment\" @modified=\"modifyComment\"/>             \n        </div>\n    </div>\n    <div id=\"noPost\" v-else>\n        <p>\"Nous n'avons pas trouvé de publications!\"</p>\n    </div>\n</template>\n\n<script>\nimport Comments from \"../components/Comments.vue\"\nimport Likes from \"../components/Likes.vue\"\nimport router from '../router'\nexport default {\n    name: 'Posts',\n    components: {\n        Comments,\n        Likes\n    },\n    props: {\n        posts: Array,\n        isAdmin: Boolean,\n        userId: Number\n    },\n    data() {\n        return {\n            comments: [],\n            likes: [],\n            showComments: null,\n        }\n    },\n    methods: {\n        /* détermine le statut de l'user connecté par rapport à ce post */\n        auth(postUserId) {\n            if (this.isAdmin) {\n                return true\n            }\n            if (this.userId !== postUserId) {\n                return false\n            }\n            return true          \n        },\n        /* la fonction pour montrer/cacher la section commentaires */\n        toggleComments(postId) {\n            if (this.showComments == postId) {\n                postId = null\n            }\n            this.showComments = postId\n            this.fetchComments(postId)\n        },\n        /* pour supprimer le post */\n        deletePost(postId) {\n            const data = {\n                userId: localStorage.getItem('userId')\n            }\n            if (confirm(\"êtes vous sûr de vouloir supprimer cette publication ?\")) {\n                    fetch(`http://localhost:3000/api/posts/${JSON.stringify(postId)}`, {\n                        method: 'DELETE',\n                        headers: {\n                            Authorization: `Bearer ${localStorage.getItem('token')}`\n                        },\n                        body: JSON.stringify(data)                \n                    })\n                        .catch(error => console.log(error))\n                this.$emit('delete-Post', postId) // <- on envoie un emitter pour actualiser dynamiquement\n            }\n        },\n        /* vers la page de modification du post (selon son id) */\n        modifyPost(id) {\n            router.push({ path: `/modify-post/${id}` })\n        },\n        /* ajout d'un commentaire (via les emitters du composant 'Comment') */\n        async addComment(commentId) {\n            const comment = await fetch(`http://localhost:3000/api/comments/${JSON.stringify(commentId)}`)\n            const newComment =  await comment.json()\n            this.comments.unshift(newComment)\n            return newComment\n        },\n        /* actualisation suite à la suppression du commentaire */\n        async deleteComment(commentId) {\n            this.comments = this.comments.filter((comment) => comment.id != commentId)\n        },\n        /* actualisation suite à la modification du commentaire */\n        async modifyComment(commentId, newText) {\n            this.comments.forEach(comment => {\n                if(comment.id == commentId) {\n                    comment.text = newText\n                }\n            }) \n        },            \n        /* le fetch de tous les commentaires d'un post (selon son postId) */\n        async fetchComments(postId) {\n            if (postId == null) {\n                return\n            }\n            const resComments = await fetch(`http://localhost:3000/api/comments/${JSON.stringify(postId)}/all`)\n            const dataComments = await resComments.json()\n            dataComments.reverse()\n            this.comments = dataComments\n            return dataComments\n        }        \n    }\n}\n</script>\n\n<style scoped>\n#postsContainer {\n    width: 80%;\n    margin: auto;\n    border-radius: 4px;\n}\n.post {\n    box-shadow: 2px 2px 8px 5px rgb(0 0 0 / 10%);\n    margin: auto;\n    margin-top: 2rem;\n    padding: 1rem 2rem 1rem 2rem;\n    border-radius: 4px;\n    max-width: 700px;\n}\n.header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n.description {\n    display: flex;\n    justify-content: space-between;\n    vertical-align: center;\n    width: 90%;\n    padding-left: 16px;\n    flex-wrap: wrap;\n}\n.profileContainer {\n    margin: auto;\n    width: 96px;\n    height: 96px;\n    min-width: 64px;\n    min-height: 64px;\n    border-radius: 50%;\n    overflow: hidden;\n}\n.profile {\n    height: 100%;\n    width: 100%;\n    object-fit: cover;\n}\n.modify, .delete {\n    margin: 0 0.2rem 0 1rem;\n}\n.text {\n    margin: 1.4rem 0 1.4rem 0;\n}\n.fileContainer {\n    overflow: hidden;\n    text-align: center;\n}\n.file {\n    width: 100%;\n    height: 100%;\n    background-color: rgba(0, 0, 0, 0.1)\n}\nbutton {\n    background: none;\n    border-style: none;\n    outline: none;   \n}\n.interaction {\n    border-top: 1px solid rgb(0 0 0 / 10%);\n    padding-top: 2rem;\n    display: flex;\n    justify-content: space-between;\n}\n.comments {\n    width: 40%;\n}\n#noPost {\n    margin: 2rem;\n}\ni {\n    margin-right: 4px;\n}\n@media screen and (max-width: 992px) {\n    #postsContainer {\n        width: 100%;\n    }\n    .post {\n        margin: 2rem 0 0 0;\n    }\n    .header {\n        flex-direction: column;\n    }\n    .profileContainer {\n        max-width: 64px;\n        max-height: 64px;\n    }\n    .description {\n        display: flex;\n        flex-direction: column;\n        text-align: center;\n        vertical-align: center;\n        width: 100%;\n        padding-left: 0;\n        flex-wrap: wrap;\n        line-height: 2rem;\n    }\n    .optionsBtn {\n        display: flex;\n        justify-content: space-between;\n    }\n}\n</style>"],"sourceRoot":""}]}