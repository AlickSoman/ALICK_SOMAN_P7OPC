{"remainingRequest":"/Users/admin/Desktop/RESEAU-GROUPOMANIA/groupomania-réseau-social/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/RESEAU-GROUPOMANIA/groupomania-réseau-social/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Desktop/RESEAU-GROUPOMANIA/groupomania-réseau-social/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/admin/Desktop/RESEAU-GROUPOMANIA/groupomania-réseau-social/src/views/Home.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/admin/Desktop/RESEAU-GROUPOMANIA/groupomania-réseau-social/src/views/Home.vue","mtime":1647538347778},{"path":"/Users/admin/Desktop/RESEAU-GROUPOMANIA/groupomania-réseau-social/node_modules/cache-loader/dist/cjs.js","mtime":1646670308046},{"path":"/Users/admin/Desktop/RESEAU-GROUPOMANIA/groupomania-réseau-social/node_modules/babel-loader/lib/index.js","mtime":1646670309179},{"path":"/Users/admin/Desktop/RESEAU-GROUPOMANIA/groupomania-réseau-social/node_modules/cache-loader/dist/cjs.js","mtime":1646670308046},{"path":"/Users/admin/Desktop/RESEAU-GROUPOMANIA/groupomania-réseau-social/node_modules/vue-loader-v16/dist/index.js","mtime":1646670309571}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hZG1pbi9EZXNrdG9wL1JFU0VBVS1HUk9VUE9NQU5JQS9ncm91cG9tYW5pYS1yXHhFOXNlYXUtc29jaWFsL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zZWFyY2guanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5zcGxpdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5tYXRjaC5qcyI7CmltcG9ydCBOYXYgZnJvbSAiLi4vY29tcG9uZW50cy9OYXYudnVlIjsKaW1wb3J0IEhlYWRlciBmcm9tICIuLi9jb21wb25lbnRzL0hlYWRlci52dWUiOwppbXBvcnQgQ3JlYXRlUG9zdCBmcm9tICIuLi9jb21wb25lbnRzL0NyZWF0ZVBvc3QudnVlIjsKaW1wb3J0IFBvc3RzIGZyb20gIi4uL2NvbXBvbmVudHMvUG9zdHMudnVlIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJIb21lIiwKICBjb21wb25lbnRzOiB7CiAgICBOYXY6IE5hdiwKICAgIEhlYWRlcjogSGVhZGVyLAogICAgQ3JlYXRlUG9zdDogQ3JlYXRlUG9zdCwKICAgIFBvc3RzOiBQb3N0cwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBvc3RzOiBbXSwKICAgICAgY3JlYXRlUG9zdDogZmFsc2UsCiAgICAgIGlzQWRtaW46IG51bGwsCiAgICAgIHVzZXJJZDogbnVsbCwKICAgICAgc2VhcmNoOiAiIgogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHRvZ2dsZUNyZWF0ZTogZnVuY3Rpb24gdG9nZ2xlQ3JlYXRlKCkgewogICAgICB0aGlzLmNyZWF0ZVBvc3QgPSAhdGhpcy5jcmVhdGVQb3N0OwogICAgICB0aGlzLnNlYXJjaCA9ICIiOwogICAgfSwKICAgIGFkZFBvc3RGcm9udGVuZDogZnVuY3Rpb24gYWRkUG9zdEZyb250ZW5kKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5mZXRjaFBvc3RzKCk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzLnBvc3RzID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRlbGV0ZVBvc3RGcm9udGVuZDogZnVuY3Rpb24gZGVsZXRlUG9zdEZyb250ZW5kKGlkKSB7CiAgICAgIHRoaXMucG9zdHMgPSB0aGlzLnBvc3RzLmZpbHRlcihmdW5jdGlvbiAocG9zdCkgewogICAgICAgIHJldHVybiBwb3N0LmlkICE9PSBpZDsKICAgICAgfSk7CiAgICB9LAogICAgZmV0Y2hQb3N0czogZnVuY3Rpb24gZmV0Y2hQb3N0cygpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHJlc1Bvc3RzLCBkYXRhUG9zdHM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9wb3N0cy9hbGwnKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzUG9zdHMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiByZXNQb3N0cy5qc29uKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIGRhdGFQb3N0cyA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgICAgZGF0YVBvc3RzLmZvckVhY2goZnVuY3Rpb24gKHBvc3QpIHsKICAgICAgICAgICAgICAgICAgcG9zdC5jcmVhdGVkQXQgPSBwb3N0LmNyZWF0ZWRBdC5zcGxpdCgnVCcpWzBdOwogICAgICAgICAgICAgICAgICBwb3N0LlVzZXIudXNlcm5hbWUgPSBwb3N0LlVzZXIuZmlyc3RuYW1lICsgIiAiICsgcG9zdC5Vc2VyLmxhc3RuYW1lOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBkYXRhUG9zdHMucmV2ZXJzZSgpOwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIsIGRhdGFQb3N0cyk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLmZldGNoUG9zdHMoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBfdGhpczIucG9zdHMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICBfdGhpczIuaXNBZG1pbiA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2lzQWRtaW4nKSk7CiAgICAgICAgICAgICAgX3RoaXMyLnVzZXJJZCA9IE51bWJlcihsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcklkJykpOwoKICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTMpOwogICAgfSkpKCk7CiAgfSwKICBjb21wdXRlZDogewogICAgZmlsdGVyUG9zdHM6IGZ1bmN0aW9uIGZpbHRlclBvc3RzKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHJldHVybiB0aGlzLnBvc3RzLmZpbHRlcihmdW5jdGlvbiAocG9zdCkgewogICAgICAgIHJldHVybiBwb3N0LlVzZXIudXNlcm5hbWUudG9Mb3dlckNhc2UoKS5tYXRjaChfdGhpczMuc2VhcmNoLnRvTG93ZXJDYXNlKCkpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/Users/admin/Desktop/RESEAU-GROUPOMANIA/groupomania-réseau-social/src/views/Home.vue"],"names":[],"mappings":";;;;;;;;;;AAeA,OAAO,GAAP,MAAgB,uBAAhB;AACA,OAAO,MAAP,MAAmB,0BAAnB;AACA,OAAO,UAAP,MAAuB,8BAAvB;AACA,OAAO,KAAP,MAAkB,yBAAlB;AAGA,eAAe;AACX,EAAA,IAAI,EAAE,MADK;AAEX,EAAA,UAAU,EAAE;AACR,IAAA,GAAG,EAAH,GADQ;AAER,IAAA,MAAM,EAAN,MAFQ;AAGR,IAAA,UAAU,EAAV,UAHQ;AAIR,IAAA,KAAI,EAAJ;AAJQ,GAFD;AAQX,EAAA,IARW,kBAQJ;AACH,WAAO;AACH,MAAA,KAAK,EAAE,EADJ;AAEH,MAAA,UAAU,EAAE,KAFT;AAGH,MAAA,OAAO,EAAE,IAHN;AAIH,MAAA,MAAM,EAAE,IAJL;AAKH,MAAA,MAAM,EAAE;AALL,KAAP;AAOH,GAhBU;AAiBX,EAAA,OAAO,EAAE;AACL,IAAA,YADK,0BACU;AACX,WAAK,UAAL,GAAkB,CAAC,KAAK,UAAxB;AACA,WAAK,MAAL,GAAc,EAAd;AACH,KAJI;AAKC,IAAA,eALD,6BAKmB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACD,KAAI,CAAC,UAAL,EADC;;AAAA;AACpB,gBAAA,KAAI,CAAC,KADe;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEvB,KAPI;AAQL,IAAA,kBARK,8BAQc,EARd,EAQkB;AACnB,WAAK,KAAL,GAAa,KAAK,KAAL,CAAW,MAAX,CAAkB,UAAC,IAAD;AAAA,eAAU,IAAI,CAAC,EAAL,KAAY,EAAtB;AAAA,OAAlB,CAAb;AACH,KAVI;AAWC,IAAA,UAXD,wBAWc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACQ,KAAK,CAAC,qCAAD,CADb;;AAAA;AACT,gBAAA,QADS;AAAA;AAAA,uBAES,QAAQ,CAAC,IAAT,EAFT;;AAAA;AAET,gBAAA,SAFS;AAGf,gBAAA,SAAS,CAAC,OAAV,CAAkB,UAAA,IAAG,EAAK;AACtB,kBAAA,IAAI,CAAC,SAAL,GAAiB,IAAI,CAAC,SAAL,CAAe,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAjB;AACA,kBAAA,IAAI,CAAC,IAAL,CAAU,QAAV,GAAqB,IAAI,CAAC,IAAL,CAAU,SAAV,GAAsB,GAAtB,GAA4B,IAAI,CAAC,IAAL,CAAU,QAA3D;AACH,iBAHD;AAIA,gBAAA,SAAS,CAAC,OAAV;AAPe,kDAQR,SARQ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASnB;AApBK,GAjBE;AAuCL,EAAA,OAvCK,qBAuCK;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACO,MAAI,CAAC,UAAL,EADP;;AAAA;AACZ,cAAA,MAAI,CAAC,KADO;AAEZ,cAAA,MAAI,CAAC,OAAL,GAAe,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,SAArB,CAAX,CAAf;AACA,cAAA,MAAI,CAAC,MAAL,GAAc,MAAM,CAAC,YAAY,CAAC,OAAb,CAAqB,QAArB,CAAD,CAApB;;AAHY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIf,GA3CU;AA4CX,EAAA,QAAQ,EAAE;AACN,IAAA,WAAW,EAAE,uBAAW;AAAA;;AACpB,aAAO,KAAK,KAAL,CAAW,MAAX,CAAkB,UAAC,IAAD,EAAU;AAC/B,eAAO,IAAI,CAAC,IAAL,CAAU,QAAV,CAAmB,WAAnB,GAAiC,KAAjC,CAAuC,MAAI,CAAC,MAAL,CAAY,WAAZ,EAAvC,CAAP;AACH,OAFM,CAAP;AAGJ;AALM;AA5CC,CAAf","sourcesContent":["<template>\n    <Nav redirection=\"/home\" :logged=\"true\" />\n    <Header :home=\"true\" header=\"Accueil\" />\n    <button v-if=\"createPost\" @click=\"toggleCreate\" class=\"btn\">Retour au posts</button>\n    <button v-else @click=\"toggleCreate\" class=\"btn\">Décorer le mur !</button>    \n    <CreatePost v-show=\"createPost\" @toggle-Create=\"toggleCreate\" @add-Post=\"addPostFrontend\" />\n    <div v-if=\"!createPost\" id=\"query\">\n        <span><i class=\"fas fa-search\"></i></span>\n        <input type=\"text\" placeholder=\"Trouver un post\" v-model=\"search\">\n    </div> \n    <Posts :posts=\"filterPosts\" @delete-Post=\"deletePostFrontend\" :isAdmin=\"isAdmin\" :userId=\"userId\"/>\n\n</template>\n\n<script>\nimport Nav from \"../components/Nav.vue\"\nimport Header from \"../components/Header.vue\"\nimport CreatePost from \"../components/CreatePost.vue\"\nimport Posts from \"../components/Posts.vue\"\n\n\nexport default {\n    name: \"Home\",\n    components: {\n        Nav,\n        Header,\n        CreatePost,\n        Posts\n    },\n    data() {\n        return {\n            posts: [],\n            createPost: false,\n            isAdmin: null,\n            userId: null,\n            search: \"\"\n        }\n    },\n    methods: {\n        toggleCreate() {\n            this.createPost = !this.createPost\n            this.search = \"\"\n        },\n        async addPostFrontend() {\n            this.posts = await this.fetchPosts()    \n        },\n        deletePostFrontend(id) {\n            this.posts = this.posts.filter((post) => post.id !== id)\n        },\n        async fetchPosts() {\n            const resPosts = await fetch('http://localhost:3000/api/posts/all')\n            const dataPosts = await resPosts.json()\n            dataPosts.forEach(post => {\n                post.createdAt = post.createdAt.split('T')[0]\n                post.User.username = post.User.firstname + \" \" + post.User.lastname\n            })\n            dataPosts.reverse()\n            return dataPosts\n        }\n    },\n    async created() {\n        this.posts = await this.fetchPosts()\n        this.isAdmin = JSON.parse(localStorage.getItem('isAdmin'))\n        this.userId = Number(localStorage.getItem('userId'))\n    },\n    computed: {\n        filterPosts: function() {\n            return this.posts.filter((post) => {\n                return post.User.username.toLowerCase().match(this.search.toLowerCase())\n            })\n        }\n    }   \n}\n</script>\n\n<style scoped>\n.btn {\n    display: inline-block;\n    color: white;\n    background: #1c68e6;\n    border: none;\n    padding: 10px 20px;\n    border-radius: 5px;\n    text-decoration: none;\n}\n.btn:hover {\n    box-shadow: 2px 2px 8px 5px #1c69e665;\n}\n.btn:active {\n    transform: scale(0.98);\n}\n.btn-block {\n    display: block;\n    width: 100%;\n}\n#query {\n    margin: 1rem 0 0 0;\n}\ninput {\n    padding: 6px;\n    border: 1px solid #1c68e6;\n    border-radius: 0 4px 4px 0;\n    border-left-style: none;\n}\ninput:focus {\n    outline: none;\n}\nspan {\n    padding: 6px;\n    border: 1px solid #1c68e6;\n    border-right-style: none;\n    border-radius: 4px 0 0 4px;\n}\n@media screen and (max-width: 992px) {\n    #query {\n        margin-left: 2rem;\n    }\n    .btn {\n        margin-left: 2rem;\n    }\n}\n</style>"],"sourceRoot":""}]}