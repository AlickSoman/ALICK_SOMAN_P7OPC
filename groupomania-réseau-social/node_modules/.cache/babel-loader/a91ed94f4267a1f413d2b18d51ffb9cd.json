{"remainingRequest":"/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/node_modules/babel-loader/lib/index.js!/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/src/views/Profile.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/src/views/Profile.vue","mtime":1648836565806},{"path":"/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/node_modules/cache-loader/dist/cjs.js","mtime":1646670308046},{"path":"/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/node_modules/babel-loader/lib/index.js","mtime":1646670309179},{"path":"/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/node_modules/cache-loader/dist/cjs.js","mtime":1646670308046},{"path":"/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/node_modules/vue-loader-v16/dist/index.js","mtime":1646670309571}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0IE5hdiBmcm9tICIuLi9jb21wb25lbnRzL05hdi52dWUiOwppbXBvcnQgSGVhZGVyIGZyb20gIi4uL2NvbXBvbmVudHMvSGVhZGVyLnZ1ZSI7CmltcG9ydCBFZGl0IGZyb20gIi4uL2NvbXBvbmVudHMvRWRpdFByb2ZpbGUudnVlIjsKaW1wb3J0IF9tb21lbnQgZnJvbSAnbW9tZW50JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdQcm9maWxlJywKICBjb21wb25lbnRzOiB7CiAgICBOYXY6IE5hdiwKICAgIEhlYWRlcjogSGVhZGVyLAogICAgRWRpdDogRWRpdAogIH0sCiAgYmVmb3JlQ3JlYXRlOiBmdW5jdGlvbiBiZWZvcmVDcmVhdGUoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIC8qIG9uIHLDqWN1cMOocmUgbGUgcHJvZmlsIGRlIGwndXNlciBhdmFudCBsYSBjcsOpYXRpb24gZGUgbGEgcGFnZSAqLwogICAgZmV0Y2goImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXNlcnMvIi5jb25jYXQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpKSwgewogICAgICBoZWFkZXJzOiB7CiAgICAgICAgQXV0aG9yaXphdGlvbjogIkJlYXJlciAiLmNvbmNhdChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndG9rZW4nKSkKICAgICAgfQogICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgIHJldHVybiByZXMuanNvbigpOwogICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICBkYXRhLmNyZWF0ZWRBdCA9IGRhdGEuY3JlYXRlZEF0LnNwbGl0KCdUJylbMF07CiAgICAgIGRhdGEucHJvZmlsZSA9ICJodHRwOi8vbG9jYWxob3N0OjMwMDAvaW1hZ2VzLyIuY29uY2F0KGRhdGEucHJvZmlsZSk7CiAgICAgIF90aGlzLnVzZXIgPSBkYXRhOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgIGVycm9yOwogICAgfSk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1Byb2ZpbGU6IHRydWUsCiAgICAgIGVkaXRQcm9maWxlOiBmYWxzZSwKICAgICAgdXNlcjoge30KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBmb3JtYXRhZ2UgZGUgbGEgZGF0ZQogICAgbW9tZW50OiBmdW5jdGlvbiBtb21lbnQoZGF0ZSkgewogICAgICByZXR1cm4gX21vbWVudChkYXRlKS5mb3JtYXQoJ0REL01NL1lZWVknKTsKICAgIH0sCgogICAgLyogZm9uY3Rpb24gcG91ciBzd2l0Y2hlciBlbnRyZSBhZmZpY2hlci9tb2RpZmllciBwcm9maWwgKi8KICAgIHRvZ2dsZVByb2ZpbGU6IGZ1bmN0aW9uIHRvZ2dsZVByb2ZpbGUoKSB7CiAgICAgIHRoaXMuc2hvd1Byb2ZpbGUgPSAhdGhpcy5zaG93UHJvZmlsZTsKICAgICAgdGhpcy5lZGl0UHJvZmlsZSA9ICF0aGlzLmVkaXRQcm9maWxlOwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/admin/Desktop/ALICK_SOMAN_P7OPC/groupomania-réseau-social/src/views/Profile.vue"],"names":[],"mappings":";;;AAyBA,OAAO,GAAP,MAAgB,uBAAhB;AACA,OAAO,MAAP,MAAmB,0BAAnB;AACA,OAAO,IAAP,MAAiB,+BAAjB;AACA,OAAO,OAAP,MAAmB,QAAnB;AACA,eAAe;AACX,EAAA,IAAI,EAAE,SADK;AAEX,EAAA,UAAU,EAAE;AACR,IAAA,GAAG,EAAH,GADQ;AAER,IAAA,MAAM,EAAN,MAFQ;AAGR,IAAA,IAAG,EAAH;AAHQ,GAFD;AAOX,EAAA,YAPW,0BAOI;AAAA;;AACX;AACA,IAAA,KAAK,2CAAoC,YAAY,CAAC,OAAb,CAAqB,QAArB,CAApC,GAAsE;AACvE,MAAA,OAAO,EAAE;AACL,QAAA,aAAa,mBAAY,YAAY,CAAC,OAAb,CAAqB,OAArB,CAAZ;AADR;AAD8D,KAAtE,CAAL,CAKK,IALL,CAKU,UAAA,GAAE;AAAA,aAAK,GAAG,CAAC,IAAJ,EAAL;AAAA,KALZ,EAMK,IANL,CAMU,UAAA,IAAG,EAAK;AACV,MAAA,IAAI,CAAC,SAAL,GAAiB,IAAI,CAAC,SAAL,CAAe,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAjB;AACA,MAAA,IAAI,CAAC,OAAL,0CAA+C,IAAI,CAAC,OAApD;AACA,MAAA,KAAI,CAAC,IAAL,GAAY,IAAZ;AACH,KAVL,EAWK,KAXL,CAWW,UAAA,KAAI,EAAK;AAAC,MAAA,KAAK;AAAC,KAX3B;AAYH,GArBU;AAsBX,EAAA,IAtBW,kBAsBJ;AACH,WAAO;AACH,MAAA,WAAW,EAAE,IADV;AAEH,MAAA,WAAW,EAAE,KAFV;AAGH,MAAA,IAAI,EAAE;AAHH,KAAP;AAKH,GA5BU;AA6BX,EAAA,OAAO,EAAE;AACL;AACA,IAAA,MAFK,kBAEE,IAFF,EAEQ;AACT,aAAO,OAAM,CAAC,IAAD,CAAN,CAAa,MAAb,CAAoB,YAApB,CAAP;AACH,KAJI;;AAKL;AACA,IAAA,aANK,2BAMW;AACZ,WAAK,WAAL,GAAmB,CAAC,KAAK,WAAzB;AACA,WAAK,WAAL,GAAmB,CAAC,KAAK,WAAzB;AACJ;AATK;AA7BE,CAAf","sourcesContent":["<template>\n   <section>\n       <nav><Nav redirection=\"/home\" :logged=\"true\" /></nav>\n    <Header :home=\"false\" header=\"Profil\" />\n \n    <div v-if=\"showProfile\" id=\"showProfile\">\n        <div class=\"modify\">\n            <button @click.prevent=\"toggleProfile\"><i class=\"fas fa-cog\"></i>Modifier profil</button>                \n        </div> \n        <div class=\"profileContainer\">\n            <img :src=\"user.profile\" :alt=\"user.profile\" class=\"profile\">   \n        </div>\n        <button @click.prevent=\"toggleProfile\"><i class=\"fas fa-camera\"></i>Choisir une nouvelle image de profil</button>\n        <div class=\"info\">\n            <p>Prénom : <span>{{user.firstname}}</span></p>\n            <p>Nom : <span>{{user.lastname}}</span></p>\n            <p>Email : <span>{{user.email}}</span></p>\n            <p>Inscrit depuis le : <span>{{moment(user.createdAt)}}</span></p>\n        </div>                             \n    </div>\n    <Edit v-if=\"editProfile\" :user=\"user\" @toggle-profile=\"toggleProfile\" />\n</section> \n</template>\n\n<script>\nimport Nav from \"../components/Nav.vue\"\nimport Header from \"../components/Header.vue\"\nimport Edit from \"../components/EditProfile.vue\"\nimport moment from 'moment'\nexport default {\n    name: 'Profile',\n    components: {\n        Nav,\n        Header,\n        Edit\n    },\n    beforeCreate() {\n        /* on récupère le profil de l'user avant la création de la page */\n        fetch(`http://localhost:3000/api/users/${localStorage.getItem('userId')}`, {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem('token')}`\n            }\n        })\n            .then(res => res.json())\n            .then(data => {\n                data.createdAt = data.createdAt.split('T')[0]\n                data.profile = `http://localhost:3000/images/${data.profile}`\n                this.user = data                \n            })\n            .catch(error => {error})\n    },\n    data() {\n        return {\n            showProfile: true,\n            editProfile: false,\n            user: {}\n        }\n    },\n    methods: {\n        // formatage de la date\n        moment(date) {\n            return moment(date).format('DD/MM/YYYY');\n        },\n        /* fonction pour switcher entre afficher/modifier profil */\n        toggleProfile() {\n            this.showProfile = !this.showProfile\n            this.editProfile = !this.editProfile\n        }\n    }   \n}\n</script>\n\n<style scoped>\n\n#showProfile {\n    max-width: 60%;\n    height: 100vh;\n    box-shadow: 2px 2px 8px 5px rgb(0 0 0 / 10%);\n    margin: auto;\n    margin-top: 2rem;\n    padding: 1rem;\n    margin-bottom: 3rem;\n    border-radius: 4px;\n    display: flex;\n    flex-direction: column;\n}\n.modify {\n    text-align: right;\n}\n.profileContainer {\n    margin: auto;\n    width: 78px;\n    height: 78px;\n    min-width: 64px;\n    min-height: 64px;\n    border-radius: 50%;\n    overflow: hidden;\n}\n\nbutton {\n    background: transparent;\n    border: none;\n    margin: 1rem;\n    font-size: 0.94rem;\n}\ni {\n    padding-right: 0.5rem;\n}\nimg {\n    height: 100%;\n    width: 100%;\n    object-fit: cover;\n}\n.info {\n    margin: auto;\n    line-height: 2rem;\n}\nspan {\n    font-style: italic;\n    font-weight: 500;\n}\n@media screen and (max-width: 992px) {\n    #showProfile {\n        width: 70%;\n        height: 360px;\n    }\n}\n</style>"],"sourceRoot":""}]}